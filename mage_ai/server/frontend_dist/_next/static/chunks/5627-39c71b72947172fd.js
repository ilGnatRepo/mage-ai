"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5627],{52749:function(e,n,t){var r=t(82394),i=t(82684),l=t(71180),o=t(55485),c=t(68562),a=t(7267),d=t(38276),u=t(30160),s=t(35576),p=t(17488),f=t(72473),h=t(4015),g=t(70515),b=t(81728),v=t(28598);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t,r,m,j=e.createPipeline,P=e.isLoading,Z=e.onClose,w=(0,i.useRef)(null),y=(0,i.useState)(!1),O=y[0],I=y[1],C=(0,i.useState)({name:(0,b.Y6)()}),k=C[0],A=C[1];return(0,i.useEffect)((function(){var e;null==w||null===(e=w.current)||void 0===e||e.focus()}),[]),(0,v.jsxs)(h.Nk,{children:[(0,v.jsx)(h.I5,{children:(0,v.jsx)(o.ZP,{alignItems:"center",justifyContent:"center",children:(0,v.jsx)(f.AISparkle,{size:5*g.iI,warning:!0})})}),(0,v.jsx)(h.gI,{children:(0,v.jsxs)(d.Z,{py:1,children:[(0,v.jsx)(d.Z,{mb:1,children:(0,v.jsx)(u.ZP,{default:!0,children:"New pipeline"})}),(0,v.jsx)(u.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,v.jsxs)(h.gI,{children:[(0,v.jsx)(u.ZP,{default:!0,children:"Name"}),(0,v.jsx)(p.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return A((function(n){return x(x({},n),{},{name:e.target.value})}))},paddingVertical:g.iI,placeholder:"Enter pipeline name...",value:(null==k?void 0:k.name)||""})]}),(0,v.jsx)(h.gI,{children:(0,v.jsxs)(o.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,v.jsx)(d.Z,{mb:2,pt:1,children:(0,v.jsx)(u.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,v.jsxs)(d.Z,{pb:1,pr:g.cd,children:[(0,v.jsx)(s.Z,{fullWidth:!0,onChange:function(e){return A((function(n){return x(x({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:a.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:w,rows:8,value:(null==k||null===(n=k.llm)||void 0===n||null===(t=n.request)||void 0===t?void 0:t.pipeline_description)||""}),(P||O)&&(0,v.jsx)(d.Z,{mt:1,children:(0,v.jsx)(u.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,v.jsx)(h.$b,{children:(0,v.jsxs)(o.ZP,{fullWidth:!0,children:[(0,v.jsx)(c.ZP,{bold:!0,centerText:!0,disabled:!(null!=k&&k.name&&null!=k&&null!==(r=k.llm)&&void 0!==r&&null!==(m=r.request)&&void 0!==m&&m.pipeline_description),loading:P||O,onClick:function(){I(!0),j({pipeline:k}).then((function(){return I(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),Z&&(0,v.jsx)(d.Z,{ml:1,children:(0,v.jsx)(l.ZP,{onClick:Z,tabIndex:0,children:"Cancel"})})]})})]})}},94629:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),l=t(82684),o=t(50724),c=t(82555),a=t(97618),d=t(70613),u=t(92272),s=t(68899),p=t(28598);function f(e,n){var t=e.children,r=e.noPadding;return(0,p.jsx)(s.HS,{noPadding:r,ref:n,children:t})}var h=l.forwardRef(f),g=t(62547),b=t(82571),v=t(77417),m=t(46684),x=t(75375);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Z(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,l=e.afterHidden,f=e.afterWidth,j=e.afterWidthOverride,Z=e.appendBreadcrumbs,w=e.before,y=e.beforeHeader,O=e.beforeWidth,I=e.breadcrumbs,C=e.children,k=e.contained,A=e.errors,B=e.headerMenuItems,M=e.headerOffset,N=e.hideAfterCompletely,S=e.mainContainerHeader,E=e.navigationItems,W=e.setAfterHidden,_=e.setAfterWidth,T=e.setBeforeWidth,D=e.setErrors,H=e.subheaderChildren,R=e.subheaderNoPadding,z=e.title,L=e.uuid,q=(0,x.Z)(L,{beforeResizeOffset:x.H,setWidthAfter:_,setWidthBefore:T,widthAfter:f,widthBefore:O,widthOverrideAfter:j}),F=q.mainContainerRef,Y=q.mousedownActiveAfter,G=q.mousedownActiveBefore,U=q.setMousedownActiveAfter,V=q.setMousedownActiveBefore,$=q.setWidthAfter,K=q.setWidthBefore,Q=q.widthAfter,J=q.widthBefore,X=(0,v.Z)().project,ee=[];return I&&ee.push.apply(ee,(0,i.Z)(I)),null!=I&&I.length&&!Z||!X||null!=I&&I.length||ee.unshift({bold:!Z,label:function(){return z}}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Z,{title:z}),(0,p.jsx)(u.Z,{breadcrumbs:ee,menuItems:B}),(0,p.jsxs)(s.Nk,{ref:n,children:[0!==(null==E?void 0:E.length)&&(0,p.jsx)(s.lm,{showMore:!0,children:(0,p.jsx)(b.Z,{navigationItems:E,showMore:!0})}),(0,p.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(g.Z,{after:t,afterHeader:r,afterHeightOffset:m.Mz,afterHidden:l,afterMousedownActive:Y,afterWidth:Q,before:w,beforeHeader:y,beforeHeightOffset:m.Mz,beforeMousedownActive:G,beforeWidth:w?J:s.k1,contained:k,headerOffset:M,hideAfterCompletely:!t||N,leftOffset:w?s.k1:null,mainContainerHeader:S,mainContainerRef:F,setAfterHidden:W,setAfterMousedownActive:U,setAfterWidth:$,setBeforeMousedownActive:V,setBeforeWidth:K,children:[H&&(0,p.jsx)(h,{noPadding:R,children:H}),C]})})]}),A&&(0,p.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==D?void 0:D(null)},children:(0,p.jsx)(c.Z,P(P({},A),{},{onClose:function(){return null==D?void 0:D(null)}}))})]})}var w=l.forwardRef(Z)},65458:function(e,n,t){t.d(n,{d:function(){return d}});var r=t(72473),i=t(57653),l=t(70515),o=t(81728),c=t(28598),a=1.5*l.iI,d=function(e,n){var t=[{beforeIcon:(0,c.jsx)(r.BatchPipeline,{}),label:function(){return"Standard (batch)"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.PYTHON}):e({pipeline:{name:(0,o.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,c.jsx)(r.IntegrationPipeline,{}),label:function(){return"Data integration"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.INTEGRATION}):e({pipeline:{name:(0,o.Y6)(),type:i.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,c.jsx)(r.StreamingPipeline,{size:a}),label:function(){return"Streaming"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.STREAMING}):e({pipeline:{name:(0,o.Y6)(),type:i.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!=n&&n.showBrowseTemplates&&t.push({beforeIcon:(0,c.jsx)(r.TemplateShapes,{}),label:function(){return"From a template"},onClick:function(){var e;return null==n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!=n&&n.showImportPipelineModal&&t.push({beforeIcon:(0,c.jsx)(r.Upload,{}),label:function(){return"Import pipeline zip"},onClick:function(){var e;return null==n||null===(e=n.showImportPipelineModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/upload"}),null!=n&&n.showAIModal&&t.push({beforeIcon:(0,c.jsx)(r.AISparkle,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null==n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),t}},4015:function(e,n,t){t.d(n,{$b:function(){return u},I5:function(){return a},Nk:function(){return c},gI:function(){return d}});var r=t(9518),i=t(44897),l=t(42631),o=t(70515),c=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-h093u4-0"})([""," ",""],(function(e){return!e.width&&"\n    width: ".concat(40*o.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")})),a=r.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-h093u4-1"})(["padding:","px;"," ",""],2.5*o.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-top-left-radius: ").concat(l.n_,"px;\n    border-top-right-radius: ").concat(l.n_,"px;\n    border-top: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,"\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-h093u4-2"})(["align-items:center;justify-content:space-between;"," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-top: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    display: ").concat((null==e?void 0:e.display)||"flex",";\n    padding-bottom: ").concat(1*o.iI+((null==e?void 0:e.paddingVerticalAddition)||0),"px;\n    padding-left: ").concat(o.cd*o.iI,"px;\n    padding-top: ").concat(1*o.iI+((null==e?void 0:e.paddingVerticalAddition)||0),"px;\n  ")}),(function(e){return e.columnFlex&&"\n    display: flex;\n    flex-direction: column;\n  "}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,"\n  ")})),u=r.default.div.withConfig({displayName:"indexstyle__FooterStyle",componentId:"sc-h093u4-3"})(["padding:","px ","px;"," ",""],2.5*o.iI,2*o.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border-bottom-left-radius: ").concat(l.n_,"px;\n    border-bottom-right-radius: ").concat(l.n_,"px;\n    border-bottom: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.topBorder&&"\n    border-top: 1px solid ".concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}))},76111:function(e,n,t){var r=t(82394),i=t(82684),l=t(71180),o=t(97618),c=t(55485),a=t(68562),d=t(38276),u=t(30160),s=t(35576),p=t(17488),f=t(44897),h=t(4015),g=t(39643),b=t(57653),v=t(70515),m=t(81728),x=t(28598);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.onClose,t=e.onSave,r=e.pipelineType,j=b.Mj[r],Z=(0,i.useRef)(null),w=(0,i.useState)({name:(0,m.Y6)()}),y=w[0],O=w[1];(0,i.useEffect)((function(){var e;null==Z||null===(e=Z.current)||void 0===e||e.focus()}),[]);var I=(0,i.useCallback)((function(){var e=null==y?void 0:y.tags,r=[];e&&(r=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))),t(P(P({},y),{},{name:(null==y?void 0:y.name)||(0,m.Y6)(),tags:r})),null==n||n()}),[y,n,t]);return(0,i.useEffect)((function(){var e,t=function(e){if(e.stopPropagation(),e.key===g.KW)null==n||n();else if(e.key===g.tt){var t=e.target.innerText;t.startsWith("Create")||"Cancel"===t||I()}};return null===(e=document)||void 0===e||e.addEventListener("keydown",t),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("keydown",t)}}),[I,n]),(0,x.jsxs)(h.Nk,{width:55*v.iI,children:[(0,x.jsx)(h.I5,{lightBackground:!0,children:(0,x.jsxs)(c.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(u.ZP,{bold:!0,cyan:!0,largeLg:!0,children:"".concat(b.G7[r]," pipeline")}),(0,x.jsx)(j,{fill:f.Z.accent.cyan,size:10*v.iI})]})}),(0,x.jsxs)(h.gI,{lightBackground:!0,children:[(0,x.jsx)(u.ZP,{default:!0,children:"Name"}),(0,x.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){O((function(n){return P(P({},n),{},{name:e.target.value})}))},paddingVertical:v.iI,placeholder:"Pipeline name...",ref:Z,value:(null==y?void 0:y.name)||""})]}),(0,x.jsxs)(h.gI,{lightBackground:!0,children:[(0,x.jsx)(u.ZP,{default:!0,children:"Description"}),(0,x.jsx)(d.Z,{ml:9}),(0,x.jsx)(d.Z,{fullWidth:!0,px:2,py:1,children:(0,x.jsx)(s.Z,{onChange:function(e){O((function(n){return P(P({},n),{},{description:e.target.value})}))},rows:2,value:(null==y?void 0:y.description)||""})})]}),(0,x.jsxs)(h.gI,{lightBackground:!0,children:[(0,x.jsx)(u.ZP,{default:!0,children:"Tags"}),(0,x.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){var n=e.target.value;O((function(e){return P(P({},e),{},{tags:n})}))},paddingVertical:v.iI,placeholder:"e.g. tag_1, tag_2",value:(null==y?void 0:y.tags)||""})]}),(0,x.jsx)(h.$b,{topBorder:!0,children:(0,x.jsxs)(c.ZP,{fullWidth:!0,children:[(0,x.jsx)(o.Z,{flex:"1",children:(0,x.jsx)(l.ZP,{fullWidth:!0,onClick:n,children:"Cancel"})}),(0,x.jsx)(d.Z,{ml:1}),(0,x.jsx)(o.Z,{flex:"1",children:(0,x.jsx)(a.ZP,{bold:!0,centerText:!0,disabled:!(null!=y&&y.name),fullWidth:!0,onClick:I,primary:!0,uuid:"ConfigurePipeline/CreatePipeline",children:"Create"})})]})})]})}},70026:function(e,n,t){var r=t(75582),i=t(34376),l=t.n(i),o=t(82684),c=t(71180),a=t(59658),d=t(55485),u=t(65956),s=t(89515),p=t(35185),f=t(38276),h=t(75499),g=t(30160),b=t(69650),v=t(65327),m=t(42122),x=t(86735),j=t(70515),P=t(89538),Z=t(28598);n.Z=function(e){var n=e.fetchPipelines,t=e.onCancel,i=(0,o.useState)(!1),w=i[0],y=i[1],O=(0,o.useState)(!1),I=O[0],C=O[1],k=(0,o.useState)({}),A=k[0],B=k[1],M=(0,o.useState)({}),N=M[0],S=M[1],E=!(0,m.Qr)(A),W=(0,P.dd)((function(){var e=Object.values(N)[0],n=null==e?void 0:e.message,r=!!n;return(0,Z.jsx)(s.Z,{cancelText:r?null:"Edit ".concat(null==e?void 0:e.name),centerOnScreen:!0,confirmText:"Close",danger:r,neutral:!r,onCancel:r?void 0:function(){return l().push("/pipelines/[pipeline]/edit","/pipelines/".concat(null==e?void 0:e.name,"/edit"))},onClick:function(){return t()},subtitle:r?n:"Pipeline ".concat(null==e?void 0:e.name," successfully imported!"),title:r?"Error on pipeline import.":"Successful import!",width:50*j.iI})}),{},[N],{background:!0,uuid:"confirm_upload"}),_=(0,r.Z)(W,1)[0],T=(0,o.useMemo)((function(){var e=[];return(0,x.YC)(Object.entries(A),(function(e){var n=(0,r.Z)(e,2),t=n[0];n[1];return t})).forEach((function(n){var t=(0,r.Z)(n,2),i=t[0],l=t[1],o=N[i],c=null==o?void 0:o.message;e.push([(0,Z.jsxs)("div",{children:[(0,Z.jsx)(g.ZP,{overflowWrap:!0,preWrap:!0,children:i}),c&&(0,Z.jsx)(f.Z,{mt:1,children:(0,Z.jsx)(g.ZP,{danger:!0,small:!0,children:c})})]},"name-".concat(i)),(0,Z.jsx)(p.Z,{danger:!!c,progress:100*l},"progress-".concat(i))])})),(0,Z.jsx)(h.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[A,N]);return(0,Z.jsxs)(u.Z,{footer:(0,Z.jsxs)(d.ZP,{fullWidth:!0,justifyContent:"space-between",children:[(0,Z.jsx)(c.ZP,{onClick:function(){return t()},children:"Close"}),(0,Z.jsx)(f.Z,{ml:1,children:(0,Z.jsxs)(d.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,Z.jsx)(g.ZP,{children:"Overwrite pipeline files"}),(0,Z.jsx)(f.Z,{ml:1}),(0,Z.jsx)(b.Z,{checked:w,onCheck:y})]})})]}),headerTitle:"Import pipeline from .zip file",children:[E&&(0,Z.jsx)(v.kA,{children:T}),!E&&(0,Z.jsxs)(a.Z,{directoryPath:null,onDragActiveChange:C,overwrite:w,pipelineZip:!0,setFileUploadProgress:B,setUploadedFiles:function(e){S(e),_(),null==n||n()},children:[(0,Z.jsx)(v.es,{children:(0,Z.jsxs)(g.ZP,{center:!0,children:[I&&"Drop pipeline zip to import",!I&&"Click or drop pipeline zip to upload"]})}),(0,Z.jsx)(f.Z,{mt:2,children:(0,Z.jsxs)(g.ZP,{warning:!0,children:["The zip file should include the pipeline’s metadata.yaml file and each",(0,Z.jsx)("br",{}),"block’s script file in the root folder."]})})]})]})}}}]);